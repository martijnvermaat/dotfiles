#!/bin/sh

# Synchronize local backup
#
# To run periodically from a scheduler like cron, for example:
#
#   $ crontab -l
#   # Synchronize local backup
#   30 03 * * * ~/bin/sync-backup >> /var/log/sync-backup 2>&1
#
# Copyright (c) 2007, Martijn Vermaat

echo
echo "$(/bin/date)   Starting synchronizing local backup"

# Synchronize photos
/usr/bin/rsync -e ssh -az --delete /vermaat/fotos/ martijn@christina:/backup/melissa/fotos

# Synchronize /etc
/usr/bin/rsync -e ssh -az --delete /etc/ martijn@christina:/backup/melissa/etc

# Synchronize /home/janny
/usr/bin/rsync -e ssh -az --delete --delete-excluded --exclude-from /home/janny/.backup-filter /home/janny/ martijn@christina:/backup/melissa/home/janny

# Synchronize /home/aat
/usr/bin/rsync -e ssh -az --delete --delete-excluded --exclude-from /home/aat/.backup-filter /home/aat/ martijn@christina:/backup/melissa/home/aat

# Synchronize /home/derk
/usr/bin/rsync -e ssh -az --delete --delete-excluded --exclude-from /home/derk/.backup-filter /home/derk/ martijn@christina:/backup/melissa/home/derk

echo "$(/bin/date)   Finished synchronizing local backup"
echo
